<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DropTV</title>
    
    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />

    <style>
        /* Remove margens e preenchimentos padrão */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            background-color: #000;
        }

        /* Faz o container do Video.js preencher a tela inteira.
           Usamos a classe 'vjs-fill' no <video> para que ele
           obedeça este container.
        */
        #my-video-wrapper {
            width: 100%;
            height: 100%;
        }

        /* Garante que o vídeo (o 'vjs-tech') use 'contain' 
           para não cortar a imagem, similar ao seu 'object-fit'
           anterior.
        */
        .vjs-tech {
            object-fit: contain !important;
        }

        /* A MÁGICA: Oculta a barra de progresso 
           (seek bar) no Video.js.
        */
        .video-js .vjs-progress-control {
            display: none !important;
        }

        /* Opcional: Também oculta os marcadores de tempo
           (tempo atual / duração) que não fazem sentido na live.
        */
        .video-js .vjs-time-control {
            display: none !important;
        }

    </style>
</head>
<body>

    <div id="my-video-wrapper">
        <video id="my-video"
               class="video-js vjs-default-skin vjs-fill"
               controls
               autoplay
               muted
               playsinline>
            
            <source src="https://hls.fred1807.workers.dev" type="application/x-mpegURL">
        </video>
    </div>

    <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>

    <script>
        // 5. Inicializa o player
        document.addEventListener('DOMContentLoaded', function() {
            
            // Configurações do player
            var options = {
                // Não precisamos das configurações de buffer do HLS.js aqui,
                // pois o video.js gerencia isso de forma robusta por padrão
                // para streams HLS (ele usará o 'videojs-contrib-hls').
            };

            var player = videojs('my-video', options);

            // Tenta dar o play (o 'muted' no HTML ajuda nisso)
            player.play().catch(function(error) {
                console.log('O autoplay foi bloqueado pelo navegador.');
                // O usuário ainda pode clicar no play (já que 'controls' está ativo)
            });

            // Opcional: Se o usuário tirar do mudo, deixamos
            // o navegador saber que queremos áudio.
            player.on('volumechange', function() {
                if (!player.muted()) {
                    player.muted(false);
                }
            });
        });
    </script>

</body>
</html>