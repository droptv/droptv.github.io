<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Streaming ao Vivo</title>

    <link href="https://vjs.zencdn.net/7.10.2/video-js.css" rel="stylesheet">

    <style>
        /* 1. Layout de tela cheia */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden; /* Esconde barras de rolagem */
            background-color: #000; /* Fundo preto para preencher */
        }

        /* 2. Container do vídeo ocupando 100% */
        #live-player {
            width: 100vw;
            height: 100vh;
        }

        /* 3. Esconder os controles indesejados (barra de progresso, etc.) */
        
        /* Barra de progresso (seek bar) */
        .video-js .vjs-progress-control {
            display: none !important;
        }

        /* Todos os marcadores de tempo */
        .video-js .vjs-current-time,
        .video-js .vjs-duration,
        .video-js .vjs-time-divider,
        .video-js .vjs-remaining-time {
            display: none !important;
        }

        /* Outros botões (Tela cheia, Legendas, PiP) */
        .video-js .vjs-fullscreen-control,
        .video-js .vjs-subs-caps-button,
        .video-js .vjs-picture-in-picture-control {
            display: none !important;
        }
    </style>
</head>
<body>

    <video id="live-player"
           class="video-js vjs-default-skin"
           controls
           preload="auto"
           autoplay  /* 4. Tenta autoplay (será pego pelo script) */
           playsinline /* Essencial para iOS */
           >
        <source src="https://droptv.com.br/play.m3u8" type="application/x-mpegURL">
        
        <p class="vjs-no-js">
            Para assistir este vídeo, por favor habilite o JavaScript.
        </p>
    </video>

    <script src="https://vjs.zencdn.net/7.10.2/video.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/5.15.0/videojs-contrib-hls.min.js"></script>

    <script>
        // Inicializa o player
        var player = videojs('live-player');

        // 6. Lógica de Autoplay (Com som se possível, senão mudo)
        player.ready(function() {
            // Tenta dar play com som
            var promise = player.play();

            if (promise !== undefined) {
                // Navegadores modernos retornam uma promessa
                promise.then(function() {
                    // Autoplay com som funcionou!
                    console.log('Autoplay com som iniciado.');
                }).catch(function(error) {
                    // Autoplay com som foi bloqueado pelo navegador
                    console.log('Autoplay com som bloqueado. Tentando com mudo.');
                    player.muted(true); // Ativa o mudo
                    player.play();      // Tenta dar play novamente (agora mudo)
                });
            }
            // Navegadores muito antigos podem não retornar uma promessa
            // e podem ter obedecido o atributo 'autoplay'.
            // Se não, o usuário terá que clicar em play.
        });
    </script>

</body>
</html>